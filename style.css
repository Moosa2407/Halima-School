/* =========================
   متغيرات عامة (موحدة)
========================= */
:root{
  --bar-bg:#d7f0d7;
  --box-bg:#f3d9f9;
  --accent:#0b39ff;
  --title-bg:#f3d9f9;

  --bg:#f8f5ff;
  --card:#ffffff;
  --text:#222;
  --muted:#666;
  --ok:#2e8b57;
  --bad:#d22;
  --shadow:0 10px 24px rgba(0,0,0,.06);

  --radius:12px;
  --border:#e6e6e6;
  --gap:1rem;
}

/* أساسيات */
*{ box-sizing:border-box; }
html,body{ margin:0; padding:0; }
body{
  font-family:Tahoma, Arial, sans-serif;
  background:var(--bg);
  color:var(--text);
  direction:rtl;
  line-height:1.9;
}

/* تحسين قابلية القراءة على الشاشات الصغيرة */
h1{ font-size: clamp(1.25rem, 3.5vw, 1.8rem); }
h2{ font-size: clamp(1.05rem, 2.8vw, 1.25rem); }

/* حالات تركيز واضحة للوصولية */
a, button, input, select{
  outline: none;
}
a:focus-visible, button:focus-visible, input:focus-visible, select:focus-visible{
  box-shadow: 0 0 0 3px rgba(11,57,255,.25);
  border-radius: 8px;
}

/* الشريط العلوي */
.top-bar{
  position: sticky; top: 0; z-index: 50;
  background:var(--bar-bg);
  display:flex; align-items:center; gap:12px; flex-wrap:wrap;
  padding:8px 12px; border-bottom:1px solid #cfe6cf;
}
.top-bar .logo{ height:36px; width:auto; border-radius:8px; }

.search-box{
  display:flex; align-items:center; gap:6px; flex:1 1 200px;
  min-width: 180px; max-width:520px;
  background:#fff; border:1px solid #cfcfcf;
  border-radius:999px; padding:6px 10px;
}
.search-box input{
  border:none; outline:none; flex:1; padding:6px 4px; background:transparent; font-family:inherit; font-size:1rem;
}
.search-box button{
  border:none; background:transparent; cursor:pointer; font-size:18px;
  min-width:44px; min-height:44px; display:flex; align-items:center; justify-content:center; border-radius:999px;
}
.search-box button:active{ transform: translateY(1px); }

.top-links{
  margin-inline-start:auto; display:flex; gap:10px; font-size:14px; flex-wrap:wrap;
}
.top-links a{
  color:#222; text-decoration:none; padding:6px 10px; border-radius:8px;
}
.top-links a:hover{ background:#eaf6ff; }

/* تخطيط عام: عمود جانبي + محتوى */
/* موبايل أولًا: عمود واحد */
.layout{
  display:grid;
  grid-template-columns: 1fr;
  gap: var(--gap);
  max-width:1200px;
  margin:18px auto;
  padding:0 12px;
}

/* عند ≥ 992px: عمود جانبي + محتوى */
@media (min-width: 992px){
  .layout{
    grid-template-columns: 280px 1fr;
    align-items:start;
  }
}

/* الشريط الجانبي */
.sidebar{
  display: grid;
  gap: var(--gap);
  height: fit-content;
  position: sticky;
  top: calc(64px + var(--gap)); /* أسفل التوب بار */
}
@media (max-width: 991.98px){
  .sidebar{ position: static; }
}

/* ودجتات العمود الجانبي */
.widget{
  background:#fff; border:1px solid var(--border); border-radius:var(--radius);
  padding:12px; box-shadow:0 4px 14px rgba(0,0,0,.04);
}
.widget .title{ font-weight:700; margin:0 0 10px; }
.categories ul{ list-style:disc; padding:0 18px; margin:0; }
.categories li{ margin:6px 0; color:#0b7a0b; }
.categories a{ color:#0b7a0b; text-decoration:none; }
.categories a:hover{ text-decoration:underline; }

/* عداد الزيارات */
.digits{ display:inline-flex; gap:6px; align-items:center; min-height: 44px; }
.digit{
  width:28px; height:36px; background:#000; color:#fff;
  font-weight:700; font-family:ui-monospace, SFMono-Regular, Menlo, monospace;
  border-radius:6px;
  display:inline-flex; align-items:center; justify-content:center;
  box-shadow:inset 0 -2px 0 rgba(255,255,255,.15);
}
.archive-select{ width:100%; padding:10px; border:1px solid #ccc; border-radius:10px; min-height:44px; }

/* نص تعريفي */
.intro{
  background:#fff; border:1px solid #ddd; border-radius:10px;
  padding:18px; margin:0 auto 18px; max-width:720px; text-align:center; line-height:1.9;
}
.intro h1{ color:#2e8b57; margin:6px 0 12px; }
.green{ color:#2e8b57; }
.red{ color:var(--bad); font-weight:700; }
.blue{ color:var(--accent); font-weight:700; }

/* اجعل الصور داخل .intro مرنة */
.intro img{ max-width:100%; height:auto; display:block; border-radius:10px; }

/* صندوق اللعبة */
.container{
  width:100%;
  max-width:420px; margin:0 auto 32px;
  background:var(--box-bg);
  border:2px solid #000; border-radius:10px;
  padding:12px; text-align:center;
}

/* شريط الحالة */
.status-bar{
  display:flex; justify-content:space-between; gap:6px; margin-bottom:8px; flex-wrap:wrap;
}
.status-bar div, .status-bar button{
  flex:1; padding:10px; font-weight:700; font-size:14px; border:1px solid #000;
  min-height:44px; display:flex; align-items:center; justify-content:center;
}
.score{ background:#cce0ff; }
.start{ background:#fff59d; cursor:pointer; transition: transform .05s ease; }
.start:active{ transform: translateY(1px); }
.time{  background:#ffc9e0; }

/* عنوان اللعبة */
h2{
  background:var(--title-bg); padding:8px; border:1px solid #000;
  margin:12px 0; font-size:18px; border-radius:8px; text-align:center;
}

/* منطقة الإدخال */
.input-area{
  display:flex; align-items:center; justify-content:center; gap:8px;
  margin:10px 0; flex-wrap:wrap;
}
input[type="text"]{
  flex:1 1 220px; max-width:460px;
  padding:10px 12px; text-align:center; font-size:16px;
  border:1px solid #000; background:#fff; border-radius:10px; min-height:44px;
}
.info-btn{
  background:var(--box-bg); padding:10px 14px; border:1px solid #000; cursor:pointer; border-radius:10px; min-height:44px;
}

/* صورة صندوق اللعبة فقط */
.container img{
  width:180px; max-width: 60%;
  margin-top:10px; height:auto; display:block; margin-inline:auto;
}

/* فوتر الصندوق فقط */
.container footer{
  background:var(--title-bg);
  margin-top:10px; padding:6px; font-weight:700; font-size:12px; border:1px solid #000; border-radius:8px;
}

/* استجابة عامة */
@media (max-width:900px){
  /* التخطيط صار عمود واحد بالفعل عبر Grid، لا حاجة لتغيير .sidebar */
}

/* الغلاف الأوسط (قالب التحدي) */
.wrap{
  max-width:760px; margin:32px auto 60px;
  background:var(--card); border:1px solid #eee; border-radius:12px;
  padding:26px 22px; box-shadow:var(--shadow); text-align:center;
}
.title{ margin:0 0 10px; color:var(--ok); font-size:28px; }
.bism{ margin:0 0 16px; color:var(--muted); }
.lead{ margin:0 auto 18px; max-width:640px; }

/* قائمة التعليمات */
.bullets{
  display:inline-block; text-align:right; padding:0 20px; margin:0 0 12px 0;
}
.bullets li{ margin:6px 0; }
.ok{ color:var(--ok); font-weight:700; }
.bad{ color:var(--bad); font-weight:700; }
.note{ margin:8px 0 12px; }

/* صورة البدء */
.start-img{
  display:inline-block; border:1px solid #e1defa; border-radius:10px;
  padding:10px 12px; background:#fbf9ff;
  transition:transform .08s ease-in-out, box-shadow .12s;
}
.start-img:hover{ transform:translateY(-2px); box-shadow:0 12px 22px rgba(0,0,0,.10); }
.start-img img{ width:220px; height:auto; display:block; }

/* بطاقات عامة */
.card{
  background:#fff; border:1px solid #eaeaea; border-radius:14px;
  box-shadow:0 10px 24px rgba(0,0,0,.06); padding:22px 20px; margin:16px 0 28px;
}

/* عنوان ونص المقدّمة داخل البطاقة */
.page-title{ margin:6px 0 10px; font-size:28px; color:#2e8b57; text-align:center; }
.brand-logo{ width:70px; height:70px; object-fit:contain; display:block; margin:0 auto 8px; opacity:.9; }
.intro .lead{ margin:8px auto; max-width:640px; line-height:2; }

/* تحسينات اختيارية لصندوق اللعبة عند إضافة neat */
.container.neat{
  max-width:680px; background:#f7ecff; border:1px solid #d9c7ff;
  border-radius:12px; box-shadow:0 8px 20px rgba(0,0,0,.05); padding:16px 14px;
}
.container.neat h2{
  background:#fff; border:1px solid #ddd; border-radius:10px;
  padding:8px; margin:12px 0; font-size:20px; text-align:center;
}
.container.neat img{
  width:220px; height:auto; display:block; margin:12px auto; border-radius:10px;
}
.container.neat footer{
  background:#fff; border:1px solid #eee; border-radius:10px; padding:8px; font-weight:600; font-size:13px;
}

/* استجابة صغيرة للشاشات الأضيق */
@media (max-width:560px){
  .wrap{ margin:18px 12px 42px; padding:18px 14px; }
  .title{ font-size:24px; }
  .start-img img{ width:200px; }
  .search-box{ max-width:100%; }
  .top-links{ gap:6px; }
  .container{ max-width: 100%; }
  .status-bar div, .status-bar button{ flex: 1 1 48%; }
}

/* اختياري: ترتيب وفواصل بين الدروس في نفس الصفحة */
.lesson-block { margin: 26px 0 34px; }
.lesson-block + .lesson-block{
  border-top: 1px dashed #ddd;
  padding-top: 22px;
}

/* اختياري: تحسين الحقل على الشاشات الصغيرة */
@media (max-width: 520px){
  .input-area input[type="text"]{ width: 100%; }
}

/* اختياري: خلفية جانبية */
body.bg-sides{
  background:
    linear-gradient(90deg,#cfeec3 0 18%,#ffffff 18% 82%,#cfeec3 82% 100%);
}

/* احترام تفضيل تقليل الحركة */
@media (prefers-reduced-motion: reduce){
  .start, .start-img{ transition: none !important; }
}
